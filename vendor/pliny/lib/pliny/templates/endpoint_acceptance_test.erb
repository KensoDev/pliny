require_relative '../test_helper'

describe Endpoints::<%= plural_class_name %> do
  include Committee::Test::Methods
  include Rack::Test::Methods

  def app
    Routes
  end

  it "GET <%= url_path %>" do
    get "<%= url_path %>"
    assert_equal 200, last_response.status
    assert_equal "[]", last_response.body
  end

  it "POST <%= url_path %>/:id" do
    post "<%= url_path %>"
    assert_equal 201, last_response.status
    assert_equal "{}", last_response.body
  end

  it "GET <%= url_path %>/:id" do
    get "<%= url_path %>/123"
    assert_equal 200, last_response.status
    assert_equal "{}", last_response.body
  end

  it "PATCH <%= url_path %>/:id" do
    patch "<%= url_path %>/123"
    assert_equal 200, last_response.status
    assert_equal "{}", last_response.body
  end

  it "DELETE <%= url_path %>/:id" do
    delete "<%= url_path %>/123"
    assert_equal 200, last_response.status
    assert_equal "{}", last_response.body
  end
end
